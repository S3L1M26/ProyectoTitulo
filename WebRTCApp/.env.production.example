# ===================================
# PRODUCTION ENVIRONMENT - MVP BÁSICO
# ===================================
# Arquitectura simplificada para DigitalOcean
# - App Platform: Laravel + Octane + RoadRunner
# - Managed Database: MySQL 8
# - Droplet: Redis (self-hosted)
# - Spaces: Object Storage S3
# - Testmail.app: Email testing/preview
#
# Copy to .env and replace YOUR_* values
# ===================================

# ===================================
# APPLICATION
# ===================================
APP_NAME="WebRTC Mentorship"
APP_ENV=production
APP_KEY=                                    # Generate: php artisan key:generate --show
APP_DEBUG=false
APP_TIMEZONE=America/Santiago
APP_URL=https://YOUR_APP_NAME.ondigitalocean.app

APP_LOCALE=es
APP_FALLBACK_LOCALE=es
APP_FAKER_LOCALE=es_ES

BCRYPT_ROUNDS=12

# ===================================
# LOGGING
# ===================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_LEVEL=warning

# ===================================
# DATABASE - DigitalOcean Managed MySQL
# ===================================
# Get from: DigitalOcean Console → Databases → Connection Details
DB_CONNECTION=mysql
DB_HOST=${db.HOSTNAME}                      # Auto-injected by DigitalOcean
DB_PORT=${db.PORT}                          # Auto-injected (usually 25060)
DB_DATABASE=${db.DATABASE}                  # Auto-injected
DB_USERNAME=${db.USERNAME}                  # Auto-injected (doadmin)
DB_PASSWORD=${db.PASSWORD}                  # Auto-injected

# ===================================
# REDIS - Self-hosted on Droplet
# ===================================
# Get from: Your Redis Droplet IP (ejemplo: 159.89.123.45)
REDIS_CLIENT=phpredis
REDIS_HOST=YOUR_REDIS_DROPLET_IP            # Ejemplo: 159.89.123.45
REDIS_PASSWORD=YOUR_SECURE_REDIS_PASSWORD   # Configura en tu droplet
REDIS_PORT=6379

# Session & Cache
SESSION_DRIVER=redis
SESSION_LIFETIME=480
SESSION_ENCRYPT=true
SESSION_SECURE_COOKIE=true
SESSION_DOMAIN=.ondigitalocean.app

CACHE_STORE=redis
CACHE_PREFIX=webrtcapp_

# Queue
QUEUE_CONNECTION=redis
BROADCAST_CONNECTION=log

# ===================================
# MAIL - Testmail.app (Email Testing)
# ===================================
# Get free account: https://testmail.app
# Dashboard → Settings → SMTP Credentials
MAIL_MAILER=smtp
MAIL_HOST=smtp.testmail.app
MAIL_PORT=587
MAIL_USERNAME=YOUR_TESTMAIL_NAMESPACE       # Ejemplo: webrtcapp
MAIL_PASSWORD=YOUR_TESTMAIL_API_KEY         # Desde dashboard
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@testmail.app
MAIL_FROM_NAME="${APP_NAME}"

# ===================================
# STORAGE - DigitalOcean Spaces
# ===================================
# Get from: Spaces → API → Generate New Key
FILESYSTEM_DISK=s3
AWS_ACCESS_KEY_ID=YOUR_SPACES_KEY           # Ejemplo: DO00ABCDEFGH123456
AWS_SECRET_ACCESS_KEY=YOUR_SPACES_SECRET    # Desde Spaces dashboard
AWS_DEFAULT_REGION=nyc3                     # Región de tu Space
AWS_BUCKET=YOUR_BUCKET_NAME                 # Ejemplo: webrtcapp-files
AWS_ENDPOINT=https://nyc3.digitaloceanspaces.com
AWS_URL=https://YOUR_BUCKET_NAME.nyc3.cdn.digitaloceanspaces.com
AWS_USE_PATH_STYLE_ENDPOINT=false

# ===================================
# ZOOM API (Optional - si usas videollamadas)
# ===================================
ZOOM_CLIENT_ID=YOUR_ZOOM_CLIENT_ID
ZOOM_CLIENT_SECRET=YOUR_ZOOM_CLIENT_SECRET
ZOOM_ACCOUNT_ID=YOUR_ZOOM_ACCOUNT_ID

# ===================================
# SECURITY
# ===================================
SANCTUM_STATEFUL_DOMAINS=YOUR_APP_NAME.ondigitalocean.app

# ===================================
# OCTANE
# ===================================
OCTANE_SERVER=roadrunner

# ===================================
# VITE
# ===================================
VITE_APP_NAME="${APP_NAME}"

