# ===================================
# PRODUCTION ENVIRONMENT - DIGITAL OCEAN
# ===================================
# Copy this to .env on production server
# Replace all YOUR_* values with actual credentials
# Store sensitive values in DigitalOcean App Platform secrets

# ===================================
# APPLICATION CONFIG
# ===================================
APP_NAME="WebRTC Mentorship Platform"
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_TIMEZONE=America/Santiago
APP_URL=https://your-domain.com

APP_LOCALE=es
APP_FALLBACK_LOCALE=es
APP_FAKER_LOCALE=es_ES

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

PHP_CLI_SERVER_WORKERS=8

BCRYPT_ROUNDS=12

# ===================================
# LOGGING & MONITORING (Sentry)
# ===================================
LOG_CHANNEL=sentry
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning
SENTRY_LARAVEL_DSN=https://your-sentry-key@o12345.ingest.sentry.io/project-id

# ===================================
# DATABASE (DigitalOcean Managed MySQL)
# ===================================
# Connection details from DO MySQL cluster dashboard
DB_CONNECTION=mysql
DB_HOST=db-mysql-nyc3-xxxxx.ondigitalocean.com
DB_PORT=3306
DB_DATABASE=webrtc_prod
DB_USERNAME=doadmin
DB_PASSWORD=your-secure-database-password
DB_SSL_MODE=require
DB_SSLMODE=require

# Testing database (if running tests in prod)
DB_TESTING_CONNECTION=testing
DB_TEST_HOST=db-mysql-nyc3-xxxxx.ondigitalocean.com
DB_TEST_PORT=3306
DB_TEST_DATABASE=webrtc_testing
DB_TEST_USERNAME=doadmin
DB_TEST_PASSWORD=your-secure-database-password

# ===================================
# SESSION & CACHING (DigitalOcean Redis)
# ===================================
# Connection details from DO Redis cluster dashboard
SESSION_DRIVER=redis
SESSION_LIFETIME=480
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=your-domain.com
SESSION_SECURE_COOKIE=true
SESSION_EXPIRE_ON_CLOSE=false

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=s3
QUEUE_CONNECTION=redis

CACHE_STORE=redis
CACHE_PREFIX=webrtcapp_prod_

# ===================================
# REDIS (DigitalOcean Managed Redis)
# ===================================
REDIS_CLIENT=phpredis
REDIS_HOST=redis-nyc3-xxxxx.ondigitalocean.com
REDIS_PASSWORD=your-secure-redis-password
REDIS_PORT=25061
REDIS_SCHEME=rediss
REDIS_SSL=true

# ===================================
# MAIL (SendGrid Transactional Email)
# ===================================
# Get credentials from SendGrid dashboard
MAIL_MAILER=sendgrid
MAIL_SCHEME=https
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=SG.your-sendgrid-api-key
MAIL_FROM_ADDRESS=noreply@your-domain.com
MAIL_FROM_NAME="${APP_NAME}"
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# ===================================
# FILE STORAGE (DigitalOcean Spaces S3-compatible)
# ===================================
# Get credentials from Spaces dashboard
AWS_ACCESS_KEY_ID=your-do-spaces-access-key
AWS_SECRET_ACCESS_KEY=your-do-spaces-secret-key
AWS_DEFAULT_REGION=nyc3
AWS_BUCKET=your-app-storage-bucket
AWS_URL=https://your-app-storage-bucket.nyc3.digitaloceanspaces.com
AWS_ENDPOINT=https://nyc3.digitaloceanspaces.com
AWS_USE_PATH_STYLE_ENDPOINT=false
AWS_VISIBILITY=public

# ===================================
# EXTERNAL SERVICES
# ===================================
# Zoom API Integration
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret
ZOOM_ACCOUNT_ID=your-zoom-account-id

# OAuth Providers (if configured)
GITHUB_ID=
GITHUB_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ===================================
# SECURITY & TRUST CONFIGURATION
# ===================================
# Sanctum for API authentication
SANCTUM_STATEFUL_DOMAINS=your-domain.com

# Trust proxies (DigitalOcean load balancer)
TRUST_PROXIES="*"
TRUST_HOSTS="^.*\.your-domain\.com$|^your-domain\.com$"

# Encryption
CIPHER=AES-256-CBC

# ===================================
# FRONTEND / VITE
# ===================================
VITE_APP_NAME="${APP_NAME}"
VITE_APP_ENV="${APP_ENV}"

# ===================================
# RATE LIMITING & PERFORMANCE
# ===================================
# Can be increased for production scale
TELESCOPE_ENABLED=false
QUERY_DURATION_WARNING_THRESHOLD=1000
